{"ast":null,"code":"import { NodeFetchHelper } from \"./NodeFetchHelper\";\nimport { SessionManager } from \"./SessionManager\";\nimport axios from \"axios\";\nconst user_endpoint = 'localhost:2000/users/';\nconst product_endpoint = 'http://localhost:2000/products/categories';\nconst page_product_endpoint = 'http://localhost:2000/products/allData/categories';\nconst product_top = 'http://localhost:2000/orders/top';\nconst cart = 'http://localhost:2000/carts/byid';\nexport class Logics {\n  static getUser(setUser) {\n    NodeFetchHelper.get(user_endpoint, null, {\n      Authorization: \"Bearer \" + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      setUser(jsonData);\n    });\n  }\n\n  static getRoles(setRoles) {\n    NodeFetchHelper.get(`http://localhost:2000/users/byid/${SessionManager.getUserId()}`, null, {\n      Authorization: \"Bearer \" + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      setRoles(jsonData.roles);\n      console.log(jsonData);\n    });\n  }\n\n  static getProduct(categories, setProduct) {\n    NodeFetchHelper.get(product_endpoint, {\n      categories\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(SessionManager.getAccessToken());\n\n      if (ok) {\n        setProduct(jsonData);\n      }\n    });\n  }\n\n  static getPaginatedProduct(categories, page, setProduct, setTotal) {\n    const limit = 4;\n    const skip = (page - 1) * limit;\n    console.log(limit);\n    console.log(skip);\n    NodeFetchHelper.get(page_product_endpoint, {\n      categories,\n      skip,\n      limit\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(jsonData);\n\n      if (ok) {\n        setProduct(jsonData[0].edges);\n        setTotal(Math.floor(jsonData[0].pageInfo[0].count / limit) + 1);\n      }\n    });\n  }\n\n  static getTopProduct(categories, setProduct) {\n    NodeFetchHelper.get(product_top, {\n      categories\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(jsonData);\n\n      if (ok) {\n        setProduct(jsonData);\n      }\n    });\n  } // static getTopProduct(categories, setProduct) {\n  //     axios.get(`http://localhost:2000/orders/top/?categories=${categories}`, {\n  //         headers: {Authorization: 'Bearer ' + SessionManager.getAccessToken()}\n  //     })\n  //         .then((response) => {\n  //             setProduct(response)\n  //         })\n  //         .catch((error) => {\n  //             console.log(error)\n  //         })\n  // }\n\n\n  static getCartCount(callback) {\n    let id = SessionManager.getUserId();\n    NodeFetchHelper.get(cart, {\n      id\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(\"after calling cart\", jsonData.length);\n      callback(jsonData.length);\n    });\n  }\n\n  static getCart(setCart) {\n    let id = SessionManager.getUserId();\n    NodeFetchHelper.get(cart, {\n      id\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      if (ok) {\n        console.log(\"CArtdata\", jsonData);\n        setCart(jsonData);\n      }\n    });\n  }\n\n  static getCartTotalAmount(arrCart, setTotalAmount) {\n    let count = 0;\n    arrCart.map((item, index) => {\n      count = count + item.products.price * item.count;\n    });\n    setTotalAmount(count);\n  }\n\n}","map":{"version":3,"sources":["/home/dark/office/Main/BiCellReact/src/Others/Logics.js"],"names":["NodeFetchHelper","SessionManager","axios","user_endpoint","product_endpoint","page_product_endpoint","product_top","cart","Logics","getUser","setUser","get","Authorization","getAccessToken","status","jsonData","ok","getRoles","setRoles","getUserId","roles","console","log","getProduct","categories","setProduct","getPaginatedProduct","page","setTotal","limit","skip","edges","Math","floor","pageInfo","count","getTopProduct","getCartCount","callback","id","length","getCart","setCart","getCartTotalAmount","arrCart","setTotalAmount","map","item","index","products","price"],"mappings":"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","sourcesContent":["import {NodeFetchHelper} from \"./NodeFetchHelper\";\nimport {SessionManager} from \"./SessionManager\";\nimport axios from \"axios\";\n\nconst user_endpoint = 'localhost:2000/users/';\nconst product_endpoint = 'http://localhost:2000/products/categories';\nconst page_product_endpoint = 'http://localhost:2000/products/allData/categories';\n\nconst product_top = 'http://localhost:2000/orders/top';\nconst cart = 'http://localhost:2000/carts/byid';\n\nexport class Logics {\n    static getUser(setUser) {\n        NodeFetchHelper.get(user_endpoint, null, {\n            Authorization: \"Bearer \" + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            setUser(jsonData)\n\n        })\n    }\n    static getRoles(setRoles) {\n        NodeFetchHelper.get(`http://localhost:2000/users/byid/${SessionManager.getUserId()}`, null, {\n            Authorization: \"Bearer \" + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            setRoles(jsonData.roles)\n            console.log(jsonData)\n\n        })\n    }\n\n    static getProduct(categories, setProduct) {\n        NodeFetchHelper.get(product_endpoint, {categories}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(SessionManager.getAccessToken())\n            if (ok) {\n                setProduct(jsonData)\n            }\n        })\n    }\n\n    static getPaginatedProduct(categories, page, setProduct, setTotal) {\n        const limit = 4\n        const skip = (page - 1) * limit\n        console.log(limit)\n        console.log(skip)\n        NodeFetchHelper.get(page_product_endpoint, {categories, skip, limit}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(jsonData)\n            if (ok) {\n                setProduct(jsonData[0].edges)\n                setTotal(Math.floor(jsonData[0].pageInfo[0].count / limit) + 1)\n\n            }\n\n        })\n    }\n\n    static getTopProduct(categories, setProduct) {\n        NodeFetchHelper.get(product_top, {categories}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(jsonData)\n            if (ok) {\n                setProduct(jsonData)\n            }\n        })\n    }\n\n    // static getTopProduct(categories, setProduct) {\n    //     axios.get(`http://localhost:2000/orders/top/?categories=${categories}`, {\n    //         headers: {Authorization: 'Bearer ' + SessionManager.getAccessToken()}\n    //     })\n    //         .then((response) => {\n    //             setProduct(response)\n    //         })\n    //         .catch((error) => {\n    //             console.log(error)\n    //         })\n    // }\n\n    static getCartCount(callback) {\n        let id = SessionManager.getUserId();\n        NodeFetchHelper.get(cart, {id}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(\"after calling cart\", jsonData.length)\n            callback(jsonData.length)\n        })\n\n    }\n\n    static getCart(setCart) {\n        let id = SessionManager.getUserId();\n        NodeFetchHelper.get(cart, {id}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            if (ok) {\n                console.log(\"CArtdata\", jsonData)\n                setCart(jsonData)\n            }\n        })\n\n    }\n\n    static getCartTotalAmount(arrCart, setTotalAmount) {\n        let count = 0;\n        arrCart.map((item, index) => {\n            count = count + item.products.price * item.count;\n        })\n        setTotalAmount(count);\n\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}