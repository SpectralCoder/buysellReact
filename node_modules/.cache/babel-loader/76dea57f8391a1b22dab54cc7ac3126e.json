{"ast":null,"code":"import { NodeFetchHelper } from \"./NodeFetchHelper\";\nimport { SessionManager } from \"./SessionManager\";\nimport axios from \"axios\";\nconst user_endpoint = 'localhost:2000/users/';\nconst product_endpoint = 'http://localhost:2000/products/categories';\nconst page_product_endpoint = 'http://localhost:2000/products/allData/categories';\nconst product_top = 'http://localhost:2000/orders/top';\nconst cart = 'http://localhost:2000/carts/byid';\nexport class Logics {\n  static getUser(setUser) {\n    NodeFetchHelper.get(user_endpoint, null, {\n      Authorization: \"Bearer \" + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      setUser(jsonData);\n    });\n  }\n\n  static getProduct(categories, setProduct) {\n    NodeFetchHelper.get(product_endpoint, {\n      categories\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      if (ok) {\n        setProduct(jsonData);\n      }\n    });\n  }\n\n  static getPaginatedProduct(categories, page, setProduct, setTotal) {\n    const limit = 4;\n    const skip = (page - 1) * limit;\n    console.log(limit);\n    console.log(skip);\n    NodeFetchHelper.get(page_product_endpoint, {\n      categories,\n      skip,\n      limit\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(jsonData);\n\n      if (ok) {\n        setProduct(jsonData[0].edges);\n        setTotal(Math.floor(jsonData[0].pageInfo[0].count / limit) + 1);\n      }\n    });\n  } // static getTopProduct(categories, setProduct) {\n  //     NodeFetchHelper.get(product_top, {categories}, {\n  //         Authorization: 'Bearer ' + SessionManager.getAccessToken()\n  //     }, (status, jsonData, ok) => {\n  //         console.log(jsonData)\n  //         if (ok) {\n  //             setProduct(jsonData)\n  //         }\n  //     })\n  // }\n\n\n  static getTopProduct(categories, setProduct) {\n    axios.get(`http://localhost:2000/orders/top/?categories=${categories}`, {\n      headers: {\n        Authorization: 'Bearer ' + SessionManager.getAccessToken()\n      }\n    }).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  static getCartCount(callback) {\n    let id = SessionManager.getUserId();\n    NodeFetchHelper.get(cart, {\n      id\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(\"after calling cart\", jsonData.length);\n      callback(jsonData.length);\n    });\n  }\n\n  static getCart(setCart) {\n    let id = SessionManager.getUserId();\n    NodeFetchHelper.get(cart, {\n      id\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      if (ok) {\n        console.log(\"CArtdata\", jsonData);\n        setCart(jsonData);\n      }\n    });\n  }\n\n  static getCartTotalAmount(arrCart, setTotalAmount) {\n    let count = 0;\n    arrCart.map((item, index) => {\n      count = count + item.products.price * item.count;\n    });\n    setTotalAmount(count);\n  }\n\n}","map":{"version":3,"sources":["/home/dark/office/Main/BiCellReact/src/Others/Logics.js"],"names":["NodeFetchHelper","SessionManager","axios","user_endpoint","product_endpoint","page_product_endpoint","product_top","cart","Logics","getUser","setUser","get","Authorization","getAccessToken","status","jsonData","ok","getProduct","categories","setProduct","getPaginatedProduct","page","setTotal","limit","skip","console","log","edges","Math","floor","pageInfo","count","getTopProduct","headers","then","response","catch","error","getCartCount","callback","id","getUserId","length","getCart","setCart","getCartTotalAmount","arrCart","setTotalAmount","map","item","index","products","price"],"mappings":"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","sourcesContent":["import {NodeFetchHelper} from \"./NodeFetchHelper\";\nimport {SessionManager} from \"./SessionManager\";\nimport axios from \"axios\";\n\nconst user_endpoint = 'localhost:2000/users/';\nconst product_endpoint = 'http://localhost:2000/products/categories';\nconst page_product_endpoint = 'http://localhost:2000/products/allData/categories';\n\nconst product_top = 'http://localhost:2000/orders/top';\nconst cart = 'http://localhost:2000/carts/byid';\n\nexport class Logics {\n    static getUser(setUser) {\n        NodeFetchHelper.get(user_endpoint, null, {\n            Authorization: \"Bearer \" + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            setUser(jsonData)\n\n        })\n    }\n\n    static getProduct(categories, setProduct) {\n        NodeFetchHelper.get(product_endpoint, {categories}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n\n            if (ok) {\n                setProduct(jsonData)\n            }\n        })\n    }\n\n    static getPaginatedProduct(categories, page, setProduct, setTotal) {\n        const limit = 4\n        const skip = (page - 1) * limit\n        console.log(limit)\n        console.log(skip)\n        NodeFetchHelper.get(page_product_endpoint, {categories, skip, limit}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(jsonData)\n            if (ok) {\n                setProduct(jsonData[0].edges)\n                setTotal(Math.floor(jsonData[0].pageInfo[0].count / limit) + 1)\n\n            }\n\n        })\n    }\n\n    // static getTopProduct(categories, setProduct) {\n    //     NodeFetchHelper.get(product_top, {categories}, {\n    //         Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    //     }, (status, jsonData, ok) => {\n    //         console.log(jsonData)\n    //         if (ok) {\n    //             setProduct(jsonData)\n    //         }\n    //     })\n    // }\n\n    static getTopProduct(categories, setProduct) {\n        axios.get(`http://localhost:2000/orders/top/?categories=${categories}`, {\n            headers: {Authorization: 'Bearer ' + SessionManager.getAccessToken()}\n        })\n            .then((response) => {\n                console.log(response)\n            })\n            .catch((error) => {\n                console.log(error)\n            })\n    }\n\n    static getCartCount(callback) {\n        let id = SessionManager.getUserId();\n        NodeFetchHelper.get(cart, {id}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(\"after calling cart\", jsonData.length)\n            callback(jsonData.length)\n        })\n\n    }\n\n    static getCart(setCart) {\n        let id = SessionManager.getUserId();\n        NodeFetchHelper.get(cart, {id}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            if (ok) {\n                console.log(\"CArtdata\", jsonData)\n                setCart(jsonData)\n            }\n        })\n\n    }\n\n    static getCartTotalAmount(arrCart, setTotalAmount) {\n        let count = 0;\n        arrCart.map((item, index) => {\n            count = count + item.products.price * item.count;\n        })\n        setTotalAmount(count);\n\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}