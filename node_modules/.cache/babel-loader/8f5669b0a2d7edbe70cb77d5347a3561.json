{"ast":null,"code":"import { NodeFetchHelper } from \"./NodeFetchHelper\";\nimport { SessionManager } from \"./SessionManager\";\nimport axios from \"axios\";\nconst user_endpoint = 'localhost:2000/users/';\nconst product_endpoint = 'http://localhost:2000/products/categories';\nconst page_product_endpoint = 'http://localhost:2000/products/allData/categories';\nconst product_top = 'http://localhost:2000/orders/top';\nconst cart = 'http://localhost:2000/carts/byid';\nexport class Logics {\n  static getUser(setUser) {\n    NodeFetchHelper.get(user_endpoint, null, {\n      Authorization: \"Bearer \" + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      setUser(jsonData);\n    });\n  }\n\n  static getAUser(setUser) {\n    NodeFetchHelper.get(user_endpoint, null, {\n      Authorization: \"Bearer \" + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      setUser(jsonData);\n    });\n  }\n\n  static getProduct(categories, setProduct) {\n    NodeFetchHelper.get(product_endpoint, {\n      categories\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      if (ok) {\n        setProduct(jsonData);\n      }\n    });\n  }\n\n  static getPaginatedProduct(categories, page, setProduct, setTotal) {\n    const limit = 4;\n    const skip = (page - 1) * limit;\n    console.log(limit);\n    console.log(skip);\n    NodeFetchHelper.get(page_product_endpoint, {\n      categories,\n      skip,\n      limit\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(jsonData);\n\n      if (ok) {\n        setProduct(jsonData[0].edges);\n        setTotal(Math.floor(jsonData[0].pageInfo[0].count / limit) + 1);\n      }\n    });\n  }\n\n  static getTopProduct(categories, setProduct) {\n    NodeFetchHelper.get(product_top, {\n      categories\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(jsonData);\n\n      if (ok) {\n        setProduct(jsonData);\n      }\n    });\n  } // static getTopProduct(categories, setProduct) {\n  //     axios.get(`http://localhost:2000/orders/top/?categories=${categories}`, {\n  //         headers: {Authorization: 'Bearer ' + SessionManager.getAccessToken()}\n  //     })\n  //         .then((response) => {\n  //             setProduct(response)\n  //         })\n  //         .catch((error) => {\n  //             console.log(error)\n  //         })\n  // }\n\n\n  static getCartCount(callback) {\n    let id = SessionManager.getUserId();\n    NodeFetchHelper.get(cart, {\n      id\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      console.log(\"after calling cart\", jsonData.length);\n      callback(jsonData.length);\n    });\n  }\n\n  static getCart(setCart) {\n    let id = SessionManager.getUserId();\n    NodeFetchHelper.get(cart, {\n      id\n    }, {\n      Authorization: 'Bearer ' + SessionManager.getAccessToken()\n    }, (status, jsonData, ok) => {\n      if (ok) {\n        console.log(\"CArtdata\", jsonData);\n        setCart(jsonData);\n      }\n    });\n  }\n\n  static getCartTotalAmount(arrCart, setTotalAmount) {\n    let count = 0;\n    arrCart.map((item, index) => {\n      count = count + item.products.price * item.count;\n    });\n    setTotalAmount(count);\n  }\n\n}","map":{"version":3,"sources":["/home/dark/office/Main/BiCellReact/src/Others/Logics.js"],"names":["NodeFetchHelper","SessionManager","axios","user_endpoint","product_endpoint","page_product_endpoint","product_top","cart","Logics","getUser","setUser","get","Authorization","getAccessToken","status","jsonData","ok","getAUser","getProduct","categories","setProduct","getPaginatedProduct","page","setTotal","limit","skip","console","log","edges","Math","floor","pageInfo","count","getTopProduct","getCartCount","callback","id","getUserId","length","getCart","setCart","getCartTotalAmount","arrCart","setTotalAmount","map","item","index","products","price"],"mappings":"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","sourcesContent":["import {NodeFetchHelper} from \"./NodeFetchHelper\";\nimport {SessionManager} from \"./SessionManager\";\nimport axios from \"axios\";\n\nconst user_endpoint = 'localhost:2000/users/';\nconst product_endpoint = 'http://localhost:2000/products/categories';\nconst page_product_endpoint = 'http://localhost:2000/products/allData/categories';\n\nconst product_top = 'http://localhost:2000/orders/top';\nconst cart = 'http://localhost:2000/carts/byid';\n\nexport class Logics {\n    static getUser(setUser) {\n        NodeFetchHelper.get(user_endpoint, null, {\n            Authorization: \"Bearer \" + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            setUser(jsonData)\n\n        })\n    }\n    static getAUser(setUser) {\n        NodeFetchHelper.get(user_endpoint, null, {\n            Authorization: \"Bearer \" + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            setUser(jsonData)\n\n        })\n    }\n\n    static getProduct(categories, setProduct) {\n        NodeFetchHelper.get(product_endpoint, {categories}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n\n            if (ok) {\n                setProduct(jsonData)\n            }\n        })\n    }\n\n    static getPaginatedProduct(categories, page, setProduct, setTotal) {\n        const limit = 4\n        const skip = (page - 1) * limit\n        console.log(limit)\n        console.log(skip)\n        NodeFetchHelper.get(page_product_endpoint, {categories, skip, limit}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(jsonData)\n            if (ok) {\n                setProduct(jsonData[0].edges)\n                setTotal(Math.floor(jsonData[0].pageInfo[0].count / limit) + 1)\n\n            }\n\n        })\n    }\n\n    static getTopProduct(categories, setProduct) {\n        NodeFetchHelper.get(product_top, {categories}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(jsonData)\n            if (ok) {\n                setProduct(jsonData)\n            }\n        })\n    }\n\n    // static getTopProduct(categories, setProduct) {\n    //     axios.get(`http://localhost:2000/orders/top/?categories=${categories}`, {\n    //         headers: {Authorization: 'Bearer ' + SessionManager.getAccessToken()}\n    //     })\n    //         .then((response) => {\n    //             setProduct(response)\n    //         })\n    //         .catch((error) => {\n    //             console.log(error)\n    //         })\n    // }\n\n    static getCartCount(callback) {\n        let id = SessionManager.getUserId();\n        NodeFetchHelper.get(cart, {id}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            console.log(\"after calling cart\", jsonData.length)\n            callback(jsonData.length)\n        })\n\n    }\n\n    static getCart(setCart) {\n        let id = SessionManager.getUserId();\n        NodeFetchHelper.get(cart, {id}, {\n            Authorization: 'Bearer ' + SessionManager.getAccessToken()\n        }, (status, jsonData, ok) => {\n            if (ok) {\n                console.log(\"CArtdata\", jsonData)\n                setCart(jsonData)\n            }\n        })\n\n    }\n\n    static getCartTotalAmount(arrCart, setTotalAmount) {\n        let count = 0;\n        arrCart.map((item, index) => {\n            count = count + item.products.price * item.count;\n        })\n        setTotalAmount(count);\n\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}